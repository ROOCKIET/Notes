第六版

内容提要

c++是在c语言基础上开发的集 面向对象/泛型/过程化 于一体的编程语言。c语言的超集。

主要介绍了：c++程序的运行方式，基本数据类型，复合数据类型，循环和关系表达式，分支语句，逻辑运算符，函数重载和函数模板，内存模型，名称空间，类的设计和使用，多态，虚函数，动态内存分配，继承，代码重用，友元，异常处理技术，string和std，输入输出，c++11新增。

针对C++初学者。



# 第一章 预备知识                                                                                                                                             

c语言和c++的发展历史，基本原理

过程性编程和面向对象编程OOP

c++如何添加面向对象

c++如何泛型

编程语言标准

创建程序技巧

## 1.1c++简介

三种编程方式：过程性语言/面向对象/泛型

## 1.2C++简史

20世纪79年代，贝尔实验室，unix，c语言

数据+算法=程序，面向过程的语言更关注算法

c设计思想：结构化编程，自顶向下

oop强调数据，设计与问题本质相对应的数据格式。

 类，描述数据格式，对象是类的实例化。

类规定了数据和对数据的操作。

oop的优势：可重用，数据隐藏，多态，继承

c++真正的优点：方便的重用，修改现有的经过仔细测试的代码。

泛型：创建独立于类型的代码

20世纪80年代，贝尔实验室，C++

库是编程模块的集合，可以调用他们，节省工作量。

c++强调的是实用价值。

## 1.3可移植性和标准

硬件特定的程序时不可移植的。

ISO c++ 98/03/11/20

## 1.4程序创建的技巧

编辑-编译（目标代码）-链接（+库，+启动代码）-可执行文件

C++后缀：C，cc,cxx,cpp,c++,cp //根据不同c++实现

c++最初的编译器：c++ --》c



# 第二章 开始学习C++

本章内容：创建c++程序，c++程序的一般格式，include，main，cout，注释，endl，声明和使用变量，cin，定义和使用简单函数。

## 2.1进入C++

函数头和函数体

函数头对函数名和接口作了介绍。

启动代码是编译器添加到程序中的，调用main（），作为main和操作系统的桥梁。

main的结尾隐含一个return 0；

预处理 ，#include 会将头文件替换到源代码include处

头文件，不加.h可以使用using namespace std

命名空间的意义：区分不同空间的同名函数/类/变量

using namespace std： 可以使用 cout 代替 std：：cout

可以单独暴露一个对象：using std：：cout

cout是一个预定义的对象

cout<<str; <<插入运算符，将字符串插入到cout流对象中

endl，控制符，重起一行

endl确保程序继续运行前（下一行）刷新输出（立即显示），\n不提供这样的保证。

代码中不可分割的元素叫做标记，token，关键字，函数名等等

c++源代码风格：

每条语句占一行

{}各占一行

{}内语句缩进

函数名相关的（）周围没有空白

## 2.2C++语句

code style：空行将声明语句与程序其他部分分开

要将信息项存储在计算机中，必须指出信息的存储位置和所需的内存空间--》声明语句

为什么变量必须声明？如果不声明，默认创建，考虑拼写错误，不违反规则

定义声明

引用声明

对于声明变量，c++的做法是尽可能在首次使用变量前声明它。

c++/c允许连续赋值

printf需要用 %s 和%d 指定打印的是字符串还是整数

cout 可以识别数据类型并调整行为（重载<<）

## 2.3其他C++语句

cin输入流对象

类描述了一个数据类型的全部属性（包括可使用它执行的操作），对象是根据这些描述所创建的实体。

类库 如iostream、fstream

对象执行操作两种方式：函数调用/运算符重载

## 2.4函数

C++程序应该为程序中使用的每个函数提供原型

不要混淆函数原型和函数定义，函数原型只描述函数的接口

参数列表指定何种信息被传入函数

函数类型指定返回值的类型

函数可以看作是黑盒子

在创建变量时就赋值叫做初始化。

函数调用中必须有括号，即使没有参数。

c++不允许函数定义嵌套在另一个函数定义中。

main的返回值可以供shell等脚本测试是否运行成功。

using namespace **，使用 * * 命名空间的对象名称定义

程序访问std：

using namespace std

using std：：cout

std：：cout

命名风格：取决于开发团体/个人

# 第三章 处理数据

本章内容包括：

c++变量的命名规则

c++内置的整型

c++11新增的整型

各种整形的系统限制climits文件

各种整形的数字字面值

const

c++内置浮点型

算术运算符

自动/强制类型转换

面向对象编程的本质是设计并拓展自己的数据类型

## 3.1简单变量

存储信息需要记录：信息存储在哪里/存储什么值/存储何种类型的值

c++命名规则：

名称中只能使用字符，数字，下划线

数字不能作为开头

区分大小写

不能使用关键字

__ _* _ 开头的名称预留给实现(编译器及各种库)

长度没有限制，但不同平台有长度限制。c99限制63个字符。

前缀命名风格：指明数据类型/特点

整型：

c++基本整形：char/short/int/long/long long，每个类型都有有/无符号版本。

short至少16位

int》=short

long最少32位，long》=int

long long 最少64位， long long >= long

字节 byte = 8 bit

宽度问题与程序可移植性有关

可以用sizeof / INT_MAX 技巧维护提高可移植性。

climits头文件中有一些符号常量，定义了各种基本数据类型的宽度和极值

c++11使得可以使用大括号{}初始化任何类型。

无符号 unsigned

0x开头的数字，十六进制

0开头的数字，八进制

cout可以使用hex，oct，dec来控制不同进制的输出

数字加后缀 l/L/u/U/ll/LL 可以指定存储类型

句点/ dot /.  成员运算符

char 单引号 ‘ ’ 或者 转义序列

unicode 通用字符名 /u 32bit /U 64bit

wchar_t 宽字符类型 底层是unsigned/ int

wchar_t  a= L'a';//通过L前缀指示宽字符

wcout/wcin

char16_t

char32_t

bool:0 false,1 true

## 3.2const限定符

声明常量

const声明常量时就要初始化

初始化后不允许再修改

与define比优势：

明确指定类型

方便限制作用域

const可以用于更复杂的类型

## 3.3浮点数

浮点可以表示小数，非常大和非常小的值

存储方式：基准值和缩放因子













































